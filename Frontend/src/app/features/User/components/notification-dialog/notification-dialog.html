<h2 mat-dialog-title>Appointment Details</h2>
<mat-dialog-content *ngIf="!loading; else loadingTmpl">
	<div class="notif-dialog">
		<div class="row"><strong>Appointment:</strong> APT-{{ appointment?.id }}</div>
		<div class="row"><strong>Vehicle:</strong> {{ data.vehicleLabel }} ({{ data.vehicleType }})</div>
		<div class="row"><strong>Return Date:</strong> {{ data.returnDate }}</div>
		<div class="row"><strong>Total:</strong> Rs {{ appointment?.totalPriceLkr | number }}</div>
		<div class="row"><strong>Services:</strong>
			<ul>
				<li *ngFor="let s of services">{{ s?.name }}</li>
			</ul>
		</div>
		<div class="row" *ngIf="isProcessed">
			<strong>Status:</strong> 
			<span class="status" [class.accepted]="appointment?.status === 'Accepted'" [class.rejected]="appointment?.status === 'Rejected'">
				{{ appointment?.status === 'Accepted' ? '✓ Accepted' : '✗ Rejected' }}
			</span>
		</div>
	</div>
</mat-dialog-content>
<mat-dialog-actions>
	<div *ngIf="!isProcessed; else statusDisplay">
		<button mat-stroked-button color="primary" (click)="accept()">Accept</button>
		<button mat-stroked-button color="warn" (click)="reject()">Reject</button>
	</div>
	<ng-template #statusDisplay>
		<button mat-stroked-button (click)="dialogRef.close()">Close</button>
	</ng-template>
</mat-dialog-actions>
<ng-template #loadingTmpl>
	<div class="body">Loading...</div>
</ng-template>


